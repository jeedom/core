/*
 Highstock JS v9.3.2 (2021-11-29)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Daniel Studencki

 License: www.highcharts.com/license
*/
'use strict';(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/indicators/keltner-channels",["highcharts","highcharts/modules/stock"],function(k){b(k);b.Highcharts=k;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function k(b,f,e,k){b.hasOwnProperty(f)||(b[f]=k.apply(null,e))}b=b?b._modules:{};k(b,"Stock/Indicators/MultipleLinesComposition.js",[b["Core/Series/SeriesRegistry.js"],
b["Core/Utilities.js"]],function(b,f){var e=b.seriesTypes.sma,k=f.defined,n=f.error,r=f.merge,h;(function(f){function m(a){var c,g=[];a=a||this.points;if(this.fillGraph&&this.nextPoints){if((c=e.prototype.getGraphPath.call(this,this.nextPoints))&&c.length){c[0][0]="L";g=e.prototype.getGraphPath.call(this,a);c=c.slice(0,g.length);for(var b=c.length-1;0<=b;b--)g.push(c[b])}}else g=e.prototype.getGraphPath.apply(this,arguments);return g}function q(){var a=this,c=a.linesApiNames,g=a.areaLinesNames,d=
a.points,f=a.options,q=a.graph,w={options:{gapSize:f.gapSize}},m=[],h=a.getTranslatedLinesNames(a.pointValKey),u=d.length,l;h.forEach(function(a,c){for(m[c]=[];u--;)l=d[u],m[c].push({x:l.x,plotX:l.plotX,plotY:l[a],isNull:!k(l[a])});u=d.length});if(this.userOptions.fillColor&&g.length){var v=h.indexOf(x(g[0]));v=m[v];g=1===g.length?d:m[h.indexOf(x(g[1]))];h=a.color;a.points=g;a.nextPoints=v;a.color=this.userOptions.fillColor;a.options=r(d,w);a.graph=a.area;a.fillGraph=!0;b.seriesTypes.sma.prototype.drawGraph.call(a);
a.area=a.graph;delete a.nextPoints;delete a.fillGraph;a.color=h}c.forEach(function(c,b){m[b]?(a.points=m[b],f[c]?a.options=r(f[c].styles,w):n('Error: "There is no '+c+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),a.graph=a["graph"+c],e.prototype.drawGraph.call(a),a["graph"+c]=a.graph):n('Error: "'+c+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")});a.points=d;
a.options=f;a.graph=q;e.prototype.drawGraph.call(a)}function d(a){var c=[];(this.pointArrayMap||[]).forEach(function(b){b!==a&&c.push(x(b))});return c}function x(a){return"plot"+a.charAt(0).toUpperCase()+a.slice(1)}function w(a){var c=[];(this.pointArrayMap||[]).forEach(function(b){c.push(a[b])});return c}function u(){var a=this,c=a.pointArrayMap,b=[],d;b=a.getTranslatedLinesNames();e.prototype.translate.apply(a,arguments);a.points.forEach(function(f){c.forEach(function(c,g){d=f[c];a.dataModify&&
(d=a.dataModify.modifyValue(d));null!==d&&(f[b[g]]=a.yAxis.toPixels(d,!0))})})}var h=[],l=["bottomLine"],v=["top","bottom"],z=["top"];f.compose=function(a){if(-1===h.indexOf(a)){h.push(a);var c=a.prototype;c.linesApiNames=c.linesApiNames||l.slice();c.pointArrayMap=c.pointArrayMap||v.slice();c.pointValKey=c.pointValKey||"top";c.areaLinesNames=c.areaLinesNames||z.slice();c.drawGraph=q;c.getGraphPath=m;c.toYData=w;c.translate=u;c.getTranslatedLinesNames=d}return a}})(h||(h={}));return h});k(b,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",
[b["Stock/Indicators/MultipleLinesComposition.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,f,e){var k=this&&this.__extends||function(){var b=function(f,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var f in d)d.hasOwnProperty(f)&&(b[f]=d[f])};return b(f,d)};return function(f,d){function e(){this.constructor=f}b(f,d);f.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}}(),n=f.seriesTypes.sma,
r=e.correctFloat,h=e.extend,y=e.merge;e=function(b){function e(){var d=null!==b&&b.apply(this,arguments)||this;d.data=void 0;d.options=void 0;d.points=void 0;return d}k(e,b);e.prototype.init=function(){f.seriesTypes.sma.prototype.init.apply(this,arguments);this.options=y({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)};e.prototype.getValues=function(b,e){var d=e.period,h=e.periodATR,k=e.multiplierATR,l=b.yData;l=l?l.length:0;var m=[];e=f.seriesTypes.ema.prototype.getValues(b,
{period:d,index:e.index});var n=f.seriesTypes.atr.prototype.getValues(b,{period:h}),a=[],c=[],g;if(!(l<d)){for(g=d;g<=l;g++){var p=e.values[g-d];var t=n.values[g-h];var q=p[0];b=r(p[1]+k*t[1]);t=r(p[1]-k*t[1]);p=p[1];m.push([q,b,p,t]);a.push(q);c.push([b,p,t])}return{values:m,xData:a,yData:c}}};e.defaultOptions=y(n.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},
marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1});return e}(n);h(e.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"});b.compose(e);f.registerSeriesType("keltnerchannels",e);"";return e});k(b,"masters/indicators/keltner-channels.src.js",[],function(){})});
//# sourceMappingURL=keltner-channels.js.map